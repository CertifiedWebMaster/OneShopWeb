!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@ecomplus/shopping-cart"),require("@ecomplus/utils"),require("core-js/modules/es.function.name"),require("core-js/modules/es.symbol"),require("core-js/modules/es.array.filter"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.object.get-own-property-descriptor"),require("core-js/modules/es.object.get-own-property-descriptors"),require("core-js/modules/es.object.keys"),require("core-js/modules/web.dom-collections.for-each")):"function"==typeof define&&define.amd?define([,,"core-js/modules/es.function.name","core-js/modules/es.symbol","core-js/modules/es.array.filter","core-js/modules/es.array.for-each","core-js/modules/es.object.get-own-property-descriptor","core-js/modules/es.object.get-own-property-descriptors","core-js/modules/es.object.keys","core-js/modules/web.dom-collections.for-each"],r):"object"==typeof exports?exports.widgetFbPixel=r(require("@ecomplus/shopping-cart"),require("@ecomplus/utils"),require("core-js/modules/es.function.name"),require("core-js/modules/es.symbol"),require("core-js/modules/es.array.filter"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.object.get-own-property-descriptor"),require("core-js/modules/es.object.get-own-property-descriptors"),require("core-js/modules/es.object.keys"),require("core-js/modules/web.dom-collections.for-each")):e.widgetFbPixel=r(e.ecomCart,e.ecomUtils,e["core-js/modules/es.function.name"],e["core-js/modules/es.symbol"],e["core-js/modules/es.array.filter"],e["core-js/modules/es.array.for-each"],e["core-js/modules/es.object.get-own-property-descriptor"],e["core-js/modules/es.object.get-own-property-descriptors"],e["core-js/modules/es.object.keys"],e["core-js/modules/web.dom-collections.for-each"])}(window,(function(e,r,o,t,n,c,s,u,i,a){return function(e){var r={};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=r,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,r){if(1&r&&(e=o(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)o.d(t,n,function(r){return e[r]}.bind(null,n));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="/assets/vendor/",o(o.s=10)}([function(r,o){r.exports=e},function(e,o){e.exports=r},function(e,r){e.exports=o},function(e,r){e.exports=t},function(e,r){e.exports=n},function(e,r){e.exports=c},function(e,r){e.exports=s},function(e,r){e.exports=u},function(e,r){e.exports=i},function(e,r){e.exports=a},function(e,r,o){"use strict";o.r(r);o(2);var t=o(1),n=t.$ecomConfig.get("currency")||"BRL",c=function(e){var r={currency:n,content_ids:[e.sku],content_name:e.name,value:Object(t.price)(e),content_type:"product"};return e.categories&&e.categories.length&&(r.content_category=e.category_tree||e.categories[0].name),r},s=function(e){var r=window.storefront&&window.storefront.context;r&&"products"===r.resource&&e("ViewContent",c(r.body))},u=(o(3),o(4),o(5),o(6),o(7),o(8),o(9),o(0)),i=o.n(u);function a(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,t)}return o}function f(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?a(Object(o),!0).forEach((function(r){l(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function l(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}var d=function(e){var r=window.storefrontApp&&window.storefrontApp.router;if(r){var o=!1,t=function(){var e=window.storefrontApp.amount,r={value:e&&e.total||i.a.data&&i.a.data.subtotal||0,currency:n,contents:[],content_type:"product"};return i.a.data&&Array.isArray(i.a.data.items)&&i.a.data.items.forEach((function(e){var o=e.sku,t=e.quantity;r.contents.push({id:o,quantity:t})})),r},c=function(r,n){var c=f({},t(),{checkout_step:r,checkout_option:n});r<=1||!o?(e("Checkout",c,!0),o=!0):e("CheckoutOption",c,!0)},s=function(r){var o,n=r.name,s=r.params;switch(n){case"cart":c(1,"Review Cart");break;case"checkout":c(2,"Confirm Purchase");break;case"confirmation":o=s.id,e("Purchase",f({},t(),{order_id:o}))}};r.currentRoute&&s(r.currentRoute),r.afterEach(s)}},p=function(e){i.a.on("addItem",(function(r){var o=r.item;e("AddToCart",c(o))}))};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof window.fbq){var r=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.debug&&console.log("fbq",r,o),window.fbq(t?"trackCustom":"track",r,o)};s(r),d(r),p(r)}}}]).default}));
//# sourceMappingURL=widget-fb-pixel.min.js.map