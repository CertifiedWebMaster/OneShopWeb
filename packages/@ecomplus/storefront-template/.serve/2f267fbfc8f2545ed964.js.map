{"version":3,"sources":["webpack:///../widget-search/src/components/scss/EcSearch.scss?1165","webpack:///../widget-search/src/components/html/EcSearch.html?5bb0","webpack:///../widget-search/src/components/EcSearch.vue","webpack:///../widget-search/src/components/html/EcSearch.html","webpack:///../widget-search/src/components/js/EcSearch.js?6bea","webpack:///../widget-search/src/components/scss/EcSearch.scss?fd37","webpack:///../widget-search/src/index.js","webpack:///../widget-search/src/lib/dictionary.js","webpack:///../widget-search/src/components/js/EcSearch.js"],"names":["options","elId","$searchInput","document","getElementById","attrs","i","attributes","length","name","value","Vue","render","h","EcSearch","props","scopedSlots","input","$mount","dictionary","did_you_mean","en_us","pt_br","no_results_for","total_results_for","see_all","word","lang","components","EcProductCard","type","String","default","_config","get","storeId","Number","term","maxItems","autoFixScore","Boolean","popoverPlacement","data","ecomSearch","EcomSearch","searchTerm","searchedTerm","searching","suggestedItems","suggestedTerm","totalSearchResults","elInput","showPopover","computed","history","filter","indexOf","slice","methods","setSearchTerm","$form","$el","parentElement","tagName","submit","checkCurrentTerm","handleSuggestions","suggestTerm","autoFix","getTermSuggestions","forEach","text","opt","score","replace","shift","fetchItems","reset","setPageSize","fetch","then","getItems","getTotalCount","catch","err","console","error","finally","instantSearch","setTimeout","created","onScrollTimer","lastScrollOffset","window","pageYOffset","addEventListener","clearTimeout","Math","abs","activeElement","blur","mounted","$input","childNodes","ev","setAttribute","watch"],"mappings":";;;;;;;;;AAAA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,2BAA2B;AAChC;AACA;AACA,qBAAqB,sCAAsC,iBAAiB,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,6BAA6B;AAC7B;AACA,0CAA0C,yBAAyB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,SAAS,0CAA0C,EAAE;AAC9E;AACA;AACA;AACA;AACA,iCAAiC,iCAAiC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,YAAY;AAC9D;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,YAAY;AACpE;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iCAAiC,oCAAoC;AACrE;AACA,2CAA2C,gCAAgC;AAC3E;AACA;AACA;AAC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","file":"2f267fbfc8f2545ed964.js","sourcesContent":["// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"ec-search\" },\n    [\n      _vm._t(\"input\", [\n        _c(\"input\", { staticClass: \"form-control\", attrs: { type: \"search\" } })\n      ]),\n      _vm._v(\" \"),\n      _vm.elInput\n        ? [\n            _c(\n              \"b-popover\",\n              {\n                attrs: {\n                  triggers: \"focus\",\n                  \"custom-class\": \"ec-search__popover\",\n                  target: _vm.elInput.id,\n                  show: _vm.showPopover,\n                  placement: _vm.popoverPlacement,\n                  \"fallback-placement\": [_vm.popoverPlacement]\n                },\n                on: {\n                  \"update:show\": function($event) {\n                    _vm.showPopover = $event\n                  }\n                }\n              },\n              [\n                _c(\"div\", { staticClass: \"ec-search__head\" }, [\n                  _c(\n                    \"div\",\n                    [\n                      _vm.searching\n                        ? _c(\n                            \"div\",\n                            {\n                              staticClass: \"spinner-border m-4\",\n                              attrs: { role: \"status\" }\n                            },\n                            [\n                              _c(\"span\", { staticClass: \"sr-only\" }, [\n                                _vm._v(\"Loading...\")\n                              ])\n                            ]\n                          )\n                        : _vm._e(),\n                      _vm._v(\" \"),\n                      _c(\n                        \"transition\",\n                        { attrs: { \"enter-active-class\": \"animated fadeIn\" } },\n                        [\n                          !_vm.searching && _vm.searchedTerm\n                            ? _c(\n                                \"div\",\n                                { staticClass: \"ec-search__info\" },\n                                [\n                                  _vm.suggestedTerm\n                                    ? [\n                                        _vm._v(\n                                          \"\\n                \" +\n                                            _vm._s(\n                                              _vm.dictionary(\"did_you_mean\")\n                                            ) +\n                                            \"\\n                \"\n                                        ),\n                                        _c(\"a\", {\n                                          staticClass: \"ec-search__suggestion\",\n                                          attrs: { href: \"#\" },\n                                          domProps: {\n                                            textContent: _vm._s(\n                                              _vm.suggestedTerm\n                                            )\n                                          },\n                                          on: {\n                                            click: function($event) {\n                                              $event.preventDefault()\n                                              return _vm.setSearchTerm(\n                                                _vm.suggestedTerm\n                                              )\n                                            }\n                                          }\n                                        }),\n                                        _vm._v(\n                                          \"\\n                ?\\n              \"\n                                        )\n                                      ]\n                                    : _vm._e(),\n                                  _vm._v(\" \"),\n                                  !_vm.totalSearchResults\n                                    ? _c(\n                                        \"span\",\n                                        {\n                                          staticClass: \"ec-search__no-results\"\n                                        },\n                                        [\n                                          _vm._v(\n                                            \"\\n                \" +\n                                              _vm._s(\n                                                _vm.dictionary(\"no_results_for\")\n                                              ) +\n                                              \"\\n                \"\n                                          ),\n                                          _c(\"em\", [\n                                            _vm._v(_vm._s(_vm.searchedTerm))\n                                          ])\n                                        ]\n                                      )\n                                    : _c(\n                                        \"span\",\n                                        {\n                                          staticClass:\n                                            \"ec-search__count-results\"\n                                        },\n                                        [\n                                          _c(\"strong\", [\n                                            _vm._v(\n                                              _vm._s(_vm.totalSearchResults)\n                                            )\n                                          ]),\n                                          _vm._v(\n                                            \"\\n                \" +\n                                              _vm._s(\n                                                _vm.dictionary(\n                                                  \"total_results_for\"\n                                                )\n                                              ) +\n                                              \"\\n                \"\n                                          ),\n                                          _c(\"em\", [\n                                            _vm._v(_vm._s(_vm.searchedTerm))\n                                          ]),\n                                          _vm._v(\" \"),\n                                          _vm.totalSearchResults > _vm.maxItems\n                                            ? _c(\"a\", {\n                                                attrs: { href: \"#\" },\n                                                domProps: {\n                                                  textContent: _vm._s(\n                                                    \"+\" +\n                                                      _vm.dictionary(\"see_all\")\n                                                  )\n                                                },\n                                                on: {\n                                                  click: function($event) {\n                                                    $event.preventDefault()\n                                                    return _vm.setSearchTerm(\n                                                      _vm.searchedTerm\n                                                    )\n                                                  }\n                                                }\n                                              })\n                                            : _vm._e()\n                                        ]\n                                      )\n                                ],\n                                2\n                              )\n                            : _vm._e()\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"transition\",\n                        {\n                          attrs: { \"enter-active-class\": \"animated fadeInLeft\" }\n                        },\n                        [\n                          _vm.history.length\n                            ? _c(\n                                \"div\",\n                                { staticClass: \"ec-search__history\" },\n                                [\n                                  _c(\"i\", { staticClass: \"fas fa-history\" }),\n                                  _vm._v(\" \"),\n                                  _vm._l(_vm.history, function(term) {\n                                    return _c(\"a\", {\n                                      staticClass: \"ec-search__history__link\",\n                                      attrs: { href: \"#\" },\n                                      domProps: { textContent: _vm._s(term) },\n                                      on: {\n                                        click: function($event) {\n                                          $event.preventDefault()\n                                          return _vm.setSearchTerm(term)\n                                        }\n                                      }\n                                    })\n                                  })\n                                ],\n                                2\n                              )\n                            : _vm._e()\n                        ]\n                      )\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn ec-search__close\",\n                      attrs: { type: \"button\" },\n                      on: {\n                        click: function($event) {\n                          _vm.showPopover = false\n                        }\n                      }\n                    },\n                    [_c(\"i\", { staticClass: \"fas fa-times\" })]\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"transition\",\n                  { attrs: { \"enter-active-class\": \"animated fadeIn slow\" } },\n                  [\n                    !_vm.searching && _vm.suggestedItems.length\n                      ? _c(\n                          \"div\",\n                          { staticClass: \"ec-search__items\" },\n                          _vm._l(_vm.suggestedItems, function(product) {\n                            return _c(\"ec-product-card\", {\n                              key: product._id,\n                              staticClass: \"ec-search__item\",\n                              attrs: {\n                                lang: _vm.lang,\n                                storeId: _vm.storeId,\n                                product: product\n                              }\n                            })\n                          }),\n                          1\n                        )\n                      : _vm._e()\n                  ]\n                )\n              ],\n              1\n            )\n          ]\n        : _vm._e()\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./html/EcSearch.html?vue&type=template&id=9a6ba850&lang=html&\"\nimport script from \"./js/EcSearch.js?vue&type=script&lang=js&\"\nexport * from \"./js/EcSearch.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/EcSearch.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../storefront-template/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/leo/code/storefront-template/packages/@ecomplus/storefront-template/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('9a6ba850')) {\n      api.createRecord('9a6ba850', component.options)\n    } else {\n      api.reload('9a6ba850', component.options)\n    }\n    module.hot.accept(\"./html/EcSearch.html?vue&type=template&id=9a6ba850&lang=html&\", function () {\n      api.rerender('9a6ba850', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"widget-search/src/components/EcSearch.vue\"\nexport default component.exports","export * from \"-!../../../../storefront-framework/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./EcSearch.html?vue&type=template&id=9a6ba850&lang=html&\"","import mod from \"-!../../../../storefront-template/node_modules/babel-loader/lib/index.js??ref--1!./EcSearch.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../storefront-template/node_modules/babel-loader/lib/index.js??ref--1!./EcSearch.js?vue&type=script&lang=js&\"","import mod from \"-!../../../../storefront-framework/node_modules/mini-css-extract-plugin/dist/loader.js!../../../../storefront-template/node_modules/css-loader/dist/cjs.js!../../../../storefront-framework/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../storefront-template/node_modules/postcss-loader/src/index.js??postcss!../../../../storefront-template/node_modules/sass-loader/dist/cjs.js??ref--0-3!./EcSearch.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../storefront-framework/node_modules/mini-css-extract-plugin/dist/loader.js!../../../../storefront-template/node_modules/css-loader/dist/cjs.js!../../../../storefront-framework/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../storefront-template/node_modules/postcss-loader/src/index.js??postcss!../../../../storefront-template/node_modules/sass-loader/dist/cjs.js??ref--0-3!./EcSearch.scss?vue&type=style&index=0&lang=scss&\"","/*!\n * @ecomplus/widget-search\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport '@ecomplus/storefront-twbs'\nimport EcSearch from './components/EcSearch.vue'\n\nexport default (options = {}, elId = 'search-input') => {\n  const $searchInput = document.getElementById(elId)\n\n  if ($searchInput) {\n    const attrs = {}\n    for (let i = $searchInput.attributes.length - 1; i >= 0; i--) {\n      const { name, value } = $searchInput.attributes[i]\n      attrs[name] = value\n    }\n\n    new Vue({\n      render: h => h(EcSearch, {\n        props: options.props,\n        scopedSlots: {\n          input: () => h('input', { attrs })\n        }\n      })\n    }).$mount($searchInput)\n  }\n}\n","const dictionary = {\n  did_you_mean: {\n    en_us: 'Did you mean',\n    pt_br: 'Você quis dizer'\n  },\n  no_results_for: {\n    en_us: 'No results for',\n    pt_br: 'Nenhum produto encontrado para'\n  },\n  total_results_for: {\n    en_us: 'products found for',\n    pt_br: 'produtos encontrados para'\n  },\n  see_all: {\n    en_us: 'See all',\n    pt_br: 'Ver todos'\n  }\n}\n\nexport default function (word, lang) {\n  if (!lang) {\n    lang = (this && this.lang) || 'en_us'\n  }\n  return (dictionary[word] && dictionary[word][lang]) || ''\n}\n","import { _config } from '@ecomplus/utils'\nimport EcomSearch from '@ecomplus/search-engine'\nimport dictionary from './../../lib/dictionary'\nimport EcProductCard from '@ecomplus/widget-product-card/src/components/EcProductCard.vue'\n\nexport default {\n  name: 'EcSearch',\n\n  components: {\n    EcProductCard\n  },\n\n  props: {\n    lang: {\n      type: String,\n      default: _config.get('lang')\n    },\n    storeId: {\n      type: Number,\n      default: _config.get('store_id')\n    },\n    term: {\n      type: String,\n      default: ''\n    },\n    maxItems: {\n      type: Number,\n      default: 4\n    },\n    autoFixScore: {\n      type: [Number, Boolean],\n      default: 0.83\n    },\n    popoverPlacement: {\n      type: String,\n      default: 'bottom'\n    }\n  },\n\n  data () {\n    return {\n      ecomSearch: new EcomSearch(this.storeId),\n      searchTerm: this.term,\n      searchedTerm: null,\n      searching: false,\n      suggestedItems: [],\n      suggestedTerm: '',\n      totalSearchResults: 0,\n      elInput: null,\n      showPopover: false\n    }\n  },\n\n  computed: {\n    history () {\n      return this.ecomSearch.history\n        .filter(term => term.length > 2 && this.searchTerm.indexOf(term) === -1)\n        .slice(0, 5)\n    }\n  },\n\n  methods: {\n    dictionary,\n\n    setSearchTerm (term) {\n      this.elInput.value = term\n      const $form = this.$el.parentElement\n      if ($form && $form.tagName === 'FORM') {\n        $form.submit()\n      } else {\n        this.searchTerm = term\n      }\n    },\n\n    checkCurrentTerm (term) {\n      return (!term && !this.elInput.value) || this.elInput.value === term\n    },\n\n    handleSuggestions (term) {\n      let suggestTerm = term\n      let autoFix = false\n      this.suggestedTerm = ''\n      this.ecomSearch.getTermSuggestions().forEach(({ options, text }) => {\n        if (options.length) {\n          const opt = options[0]\n          if (\n            !this.totalSearchResults &&\n            this.autoFixScore > 0 &&\n            opt.score >= this.autoFixScore &&\n            opt.text.indexOf(term) === -1\n          ) {\n            autoFix = true\n          }\n          suggestTerm = suggestTerm.replace(text, opt.text)\n        }\n      })\n      if (suggestTerm !== term) {\n        if (autoFix) {\n          this.elInput.value = this.searchTerm = suggestTerm\n        } else {\n          this.suggestedTerm = suggestTerm\n        }\n        this.ecomSearch.history.shift()\n      }\n    },\n\n    fetchItems (term) {\n      const { ecomSearch } = this\n      if (term !== false) {\n        if (!term) {\n          term = this.searchTerm\n        }\n        ecomSearch.setSearchTerm(term)\n      } else {\n        ecomSearch.reset().setPageSize(this.maxItems)\n      }\n      this.searching = true\n      ecomSearch.fetch()\n        .then(() => {\n          if (this.checkCurrentTerm(term)) {\n            const { getItems, getTotalCount } = ecomSearch\n            this.searchedTerm = term\n            this.suggestedItems = getItems()\n            this.totalSearchResults = getTotalCount()\n            this.handleSuggestions(term)\n          }\n        })\n        .catch(err => {\n          console.error(err)\n        })\n        .finally(() => {\n          this.searching = false\n        })\n    },\n\n    instantSearch (term) {\n      if (this.searchedTerm === null) {\n        this.fetchItems(term)\n      } else if (this.searchedTerm !== term) {\n        this.showPopover = false\n        setTimeout(() => {\n          if (this.checkCurrentTerm(term)) {\n            this.fetchItems(term)\n          }\n          setTimeout(() => {\n            if (this.checkCurrentTerm(term)) {\n              this.showPopover = true\n            }\n          }, 100)\n        }, 400)\n      }\n    }\n  },\n\n  created () {\n    let onScrollTimer\n    let lastScrollOffset = window.pageYOffset\n    window.addEventListener('scroll', () => {\n      clearTimeout(onScrollTimer)\n      onScrollTimer = setTimeout(() => {\n        if (Math.abs(window.pageYOffset - lastScrollOffset) > 50) {\n          if (this.elInput === document.activeElement) {\n            this.elInput.blur()\n          }\n        }\n        lastScrollOffset = window.pageYOffset\n      }, 50)\n    })\n    this.ecomSearch.setPageSize(this.maxItems)\n  },\n\n  mounted () {\n    let $input\n    for (let i = 0; i < this.$el.childNodes.length; i++) {\n      if (this.$el.childNodes[0].tagName === 'INPUT') {\n        $input = this.$el.childNodes[0]\n        break\n      }\n    }\n    if ($input) {\n      $input.addEventListener('keyup', ev => {\n        this.searchTerm = $input.value\n        if (!this.showPopover) {\n          this.showPopover = true\n        }\n      })\n      $input.addEventListener('focus', ev => {\n        if (!this.totalSearchResults) {\n          this.instantSearch(false)\n        }\n      })\n      if (!this.term) {\n        this.searchTerm = $input.value\n      } else {\n        this.fetchItems()\n      }\n      $input.setAttribute('autocomplete', 'off')\n      this.elInput = $input\n    } else {\n      this.fetchItems()\n    }\n  },\n\n  watch: {\n    searchTerm (term) {\n      if (term) {\n        if (term.length > 2) {\n          this.instantSearch(term)\n        }\n      } else {\n        this.instantSearch(false)\n      }\n    }\n  }\n}\n"],"sourceRoot":""}