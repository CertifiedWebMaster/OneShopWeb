{"version":3,"sources":["webpack:///../widget-user/src/components/scss/EcUser.scss?76bf","webpack:///../widget-user/src/components/html/EcUser.html?8e72","webpack:///../widget-user/src/components/EcUser.vue","webpack:///../widget-user/src/components/html/EcUser.html","webpack:///../widget-user/src/components/js/EcUser.js?ee86","webpack:///../widget-user/src/components/scss/EcUser.scss?b234","webpack:///../widget-user/src/index.js","webpack:///../widget-user/src/lib/dictionary.js","webpack:///../widget-user/src/components/js/EcUser.js"],"names":["options","elId","$userButton","document","getElementById","Vue","render","h","EcUser","attrs","id","props","$mount","dictionary","my_account","en_us","pt_br","my_orders","hello","visitor","sign_in_with","sign_up_with","another","email","logout","login","continue_on_popup","login_error","profile_not_found","visitor_checkout","word","lang","name","type","String","default","$ecomConfig","get","ecomPassport","Object","popoverPlacement","getGreetingsMsg","Function","accountUrl","ordersUrl","popupAlertCountSecs","Number","data","showPopover","popoverTriggers","waiting","waitingPopup","isLogged","oauthProviders","showLoginForm","popupAlertCount","loginErrorAlert","noProfileFound","popoverHideTimer","computed","greetings","methods","update","fixPopoverTriggers","checkLogin","getCustomerName","setTimeout","clearTimeout","waitPromise","promise","vm","catch","err","console","error","finally","setOauthProviders","fetchOauthProviders","then","host","baseUri","oauthPath","providers","provider","faIcon","providerName","push","link","presetOauthProviders","oauthPopup","popupOauthLink","find","oauthProvider","popupAlertChanged","countDown","emailLoginSubmit","e","preventDefault","fetchLogin","response","status","resetErrors","resetPopover","mounted","forEach","ev","on","payload","$emit","watch","newStatus","$refs","input","focus"],"mappings":";;;;;;;;;AAAA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,yBAAyB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA,aAAa,kCAAkC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA,oCAAoC;AACpC,2BAA2B;AAC3B;AACA,wCAAwC,yBAAyB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA,2BAA2B,6CAA6C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD,iCAAiC;AACjC,2BAA2B;AAC3B;AACA,qCAAqC,qCAAqC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,eAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oBAAoB,GAAG;AACjE;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iBAAiB;AACzD;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,qCAAqC,oCAAoC;AACzE;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uCAAuC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C,oCAAoC,MAAM,+BAA+B,EAAE;AAC3E,qCAAqC,4BAA4B;AACjE;AACA;AACA;AACA;AACA,wCAAwC,iBAAiB;AACzD;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,wCAAwC,mCAAmC;AAC3E;AACA;AACA,yCAAyC,SAAS,uBAAuB,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"2a94548f02239b414378.js","sourcesContent":["// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"ec-user\" },\n    [\n      _vm._t(\"button\", [\n        _c(\n          \"button\",\n          {\n            directives: [\n              {\n                name: \"b-tooltip\",\n                rawName: \"v-b-tooltip.hover.left\",\n                modifiers: { hover: true, left: true }\n              }\n            ],\n            staticClass: \"btn btn-lg btn-light\",\n            attrs: {\n              type: \"button\",\n              id: \"ec-user-popover\",\n              title: _vm.dictionary(\"my_account\")\n            }\n          },\n          [_c(\"i\", { staticClass: \"fas fa-user\" })]\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"b-popover\",\n        {\n          attrs: {\n            target: \"ec-user-popover\",\n            triggers: _vm.popoverTriggers,\n            show: _vm.showPopover,\n            placement: _vm.popoverPlacement\n          },\n          on: {\n            \"update:show\": function($event) {\n              _vm.showPopover = $event\n            },\n            hidden: _vm.resetPopover\n          }\n        },\n        [\n          _c(\"template\", { slot: \"title\" }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.greetings) + \"\\n    \")\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"ec-user__popover\" },\n            [\n              _c(\n                \"b-alert\",\n                {\n                  staticClass: \"ec-user__alert\",\n                  attrs: {\n                    show: _vm.loginErrorAlert,\n                    fade: \"\",\n                    variant: \"warning\"\n                  }\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" +\n                      _vm._s(_vm.dictionary(\"login_error\")) +\n                      \".\\n      \"\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"transition-group\",\n                {\n                  attrs: {\n                    \"enter-active-class\": \"animated fadeIn\",\n                    \"leave-active-class\":\n                      \"animated position-absolute fadeOut faster\"\n                  }\n                },\n                [\n                  _vm.waiting\n                    ? _c(\"div\", { key: \"waiting\" }, [\n                        _c(\n                          \"div\",\n                          {\n                            staticClass: \"spinner-border m-3\",\n                            attrs: { role: \"status\" }\n                          },\n                          [\n                            _c(\"span\", { staticClass: \"sr-only\" }, [\n                              _vm._v(\"Loading...\")\n                            ])\n                          ]\n                        )\n                      ])\n                    : _vm.isLogged\n                    ? _c(\"div\", { key: \"logged\" }, [\n                        _c(\n                          \"div\",\n                          { staticClass: \"list-group list-group-flush\" },\n                          [\n                            _c(\n                              \"a\",\n                              {\n                                staticClass:\n                                  \"list-group-item list-group-item-action\",\n                                attrs: { href: _vm.ordersUrl }\n                              },\n                              [\n                                _vm._v(\n                                  \"\\n              \" +\n                                    _vm._s(_vm.dictionary(\"my_orders\")) +\n                                    \"\\n            \"\n                                )\n                              ]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"a\",\n                              {\n                                staticClass:\n                                  \"list-group-item list-group-item-action\",\n                                attrs: { href: _vm.accountUrl }\n                              },\n                              [\n                                _vm._v(\n                                  \"\\n              \" +\n                                    _vm._s(_vm.dictionary(\"my_account\")) +\n                                    \"\\n            \"\n                                )\n                              ]\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"button\",\n                          {\n                            staticClass:\n                              \"btn btn-block btn-danger ec-user__logout\",\n                            attrs: { type: \"button\" },\n                            on: { click: _vm.logout }\n                          },\n                          [\n                            _c(\"i\", { staticClass: \"fas fa-sign-out-alt\" }),\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(_vm.dictionary(\"logout\")) +\n                                \"\\n          \"\n                            )\n                          ]\n                        )\n                      ])\n                    : !_vm.showLoginForm\n                    ? _c(\n                        \"div\",\n                        { key: \"oauth\" },\n                        [\n                          _c(\n                            \"b-alert\",\n                            {\n                              staticClass: \"ec-user__alert\",\n                              attrs: {\n                                show:\n                                  !_vm.popupAlertCount && _vm.noProfileFound,\n                                fade: \"\",\n                                variant: \"info\"\n                              }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n            \" +\n                                  _vm._s(_vm.dictionary(\"profile_not_found\")) +\n                                  \"\\n            \"\n                              ),\n                              _c(\"b\", [_vm._v(_vm._s(_vm.email))]),\n                              _vm._v(\".\\n            \"),\n                              _c(\"br\"),\n                              _vm._v(\" \"),\n                              _c(\n                                \"a\",\n                                {\n                                  staticClass: \"alert-link\",\n                                  attrs: { href: \"javascript:;\" },\n                                  on: {\n                                    click: function($event) {\n                                      _vm.noProfileFound = false\n                                    }\n                                  }\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n              \" +\n                                      _vm._s(\n                                        _vm.dictionary(\"sign_in_with\") +\n                                          \" \" +\n                                          _vm.dictionary(\"another\") +\n                                          \" \" +\n                                          _vm.dictionary(\"email\")\n                                      ) +\n                                      \"\\n            \"\n                                  )\n                                ]\n                              )\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"b-alert\",\n                            {\n                              staticClass: \"ec-user__alert\",\n                              attrs: {\n                                show: _vm.popupAlertCount,\n                                dismissible: \"\",\n                                fade: \"\",\n                                variant: \"info\"\n                              },\n                              on: {\n                                dismissed: function($event) {\n                                  _vm.popupAlertCount = 0\n                                },\n                                \"dismiss-count-down\": _vm.popupAlertChanged\n                              }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n            \" +\n                                  _vm._s(_vm.dictionary(\"continue_on_popup\")) +\n                                  \".\\n          \"\n                              )\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _vm._l(_vm.oauthProviders, function(ref) {\n                            var link = ref.link\n                            var faIcon = ref.faIcon\n                            var providerName = ref.providerName\n                            var provider = ref.provider\n                            return _c(\n                              \"button\",\n                              {\n                                key: provider,\n                                staticClass: \"btn btn-block ec-user__btn\",\n                                class: \"ec-user__btn--\" + provider,\n                                attrs: { type: \"button\" },\n                                on: {\n                                  click: function() {\n                                    return _vm.oauthPopup(link, provider)\n                                  }\n                                }\n                              },\n                              [\n                                _c(\n                                  \"span\",\n                                  { staticClass: \"ec-user__btn__icon\" },\n                                  [\n                                    _c(\"i\", {\n                                      staticClass: \"fab\",\n                                      class: faIcon\n                                    })\n                                  ]\n                                ),\n                                _vm._v(\n                                  \"\\n            \" +\n                                    _vm._s(\n                                      _vm.dictionary(\n                                        _vm.noProfileFound\n                                          ? \"sign_up_with\"\n                                          : \"sign_in_with\"\n                                      )\n                                    ) +\n                                    \"\\n            \" +\n                                    _vm._s(providerName) +\n                                    \"\\n          \"\n                                )\n                              ]\n                            )\n                          }),\n                          _vm._v(\" \"),\n                          !_vm.noProfileFound\n                            ? _c(\n                                \"button\",\n                                {\n                                  key: \"email\",\n                                  staticClass:\n                                    \"btn btn-block btn-secondary ec-user__btn\",\n                                  attrs: { type: \"button\" },\n                                  on: {\n                                    click: function($event) {\n                                      _vm.showLoginForm = true\n                                    }\n                                  }\n                                },\n                                [\n                                  _c(\n                                    \"span\",\n                                    { staticClass: \"ec-user__btn__icon\" },\n                                    [\n                                      _c(\"i\", {\n                                        staticClass: \"fas fa-envelope\"\n                                      })\n                                    ]\n                                  ),\n                                  _vm._v(\n                                    \"\\n            \" +\n                                      _vm._s(\n                                        _vm.dictionary(\"sign_in_with\") +\n                                          \" \" +\n                                          _vm.dictionary(\"email\")\n                                      ) +\n                                      \"\\n          \"\n                                  )\n                                ]\n                              )\n                            : _c(\n                                \"div\",\n                                { staticClass: \"ec-user__visitor-info\" },\n                                [\n                                  _vm._v(\n                                    \"\\n            \" +\n                                      _vm._s(\n                                        _vm.dictionary(\"visitor_checkout\")\n                                      ) +\n                                      \"\\n          \"\n                                  )\n                                ]\n                              )\n                        ],\n                        2\n                      )\n                    : _c(\"div\", { key: \"form\" }, [\n                        _c(\"form\", { on: { submit: _vm.emailLoginSubmit } }, [\n                          _c(\"div\", { staticClass: \"form-group\" }, [\n                            _c(\n                              \"button\",\n                              {\n                                staticClass: \"btn ec-user__back\",\n                                attrs: { type: \"button\" },\n                                on: {\n                                  click: function($event) {\n                                    _vm.showLoginForm = false\n                                  }\n                                }\n                              },\n                              [_c(\"i\", { staticClass: \"fas fa-arrow-left\" })]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\"label\", { attrs: { for: \"ec-user-email\" } }, [\n                              _vm._v(\n                                \"\\n                \" +\n                                  _vm._s(\n                                    _vm.dictionary(\"sign_in_with\") +\n                                      \" \" +\n                                      _vm.dictionary(\"email\")\n                                  ) +\n                                  \"\\n              \"\n                              )\n                            ]),\n                            _vm._v(\" \"),\n                            _c(\"input\", {\n                              directives: [\n                                {\n                                  name: \"model\",\n                                  rawName: \"v-model\",\n                                  value: _vm.email,\n                                  expression: \"email\"\n                                }\n                              ],\n                              ref: \"input\",\n                              staticClass: \"form-control\",\n                              attrs: {\n                                type: \"email\",\n                                id: \"ec-user-email\",\n                                placeholder: \"email@mail.com\",\n                                required: \"\"\n                              },\n                              domProps: { value: _vm.email },\n                              on: {\n                                input: function($event) {\n                                  if ($event.target.composing) {\n                                    return\n                                  }\n                                  _vm.email = $event.target.value\n                                }\n                              }\n                            })\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\n                            \"button\",\n                            {\n                              staticClass: \"btn btn-block btn-primary\",\n                              attrs: { type: \"submit\" }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n              \" +\n                                  _vm._s(_vm.dictionary(\"login\")) +\n                                  \"\\n            \"\n                              )\n                            ]\n                          )\n                        ])\n                      ])\n                ]\n              )\n            ],\n            1\n          )\n        ],\n        2\n      )\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./html/EcUser.html?vue&type=template&id=9527e0c4&lang=html&\"\nimport script from \"./js/EcUser.js?vue&type=script&lang=js&\"\nexport * from \"./js/EcUser.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/EcUser.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../storefront-template/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/leo/code/storefront-template/packages/@ecomplus/storefront-template/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('9527e0c4')) {\n      api.createRecord('9527e0c4', component.options)\n    } else {\n      api.reload('9527e0c4', component.options)\n    }\n    module.hot.accept(\"./html/EcUser.html?vue&type=template&id=9527e0c4&lang=html&\", function () {\n      api.rerender('9527e0c4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"widget-user/src/components/EcUser.vue\"\nexport default component.exports","export * from \"-!../../../../storefront-framework/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./EcUser.html?vue&type=template&id=9527e0c4&lang=html&\"","import mod from \"-!../../../../storefront-template/node_modules/babel-loader/lib/index.js??ref--1!./EcUser.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../storefront-template/node_modules/babel-loader/lib/index.js??ref--1!./EcUser.js?vue&type=script&lang=js&\"","import mod from \"-!../../../../storefront-framework/node_modules/mini-css-extract-plugin/dist/loader.js!../../../../storefront-template/node_modules/css-loader/dist/cjs.js!../../../../storefront-framework/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../storefront-template/node_modules/postcss-loader/src/index.js??postcss!../../../../storefront-template/node_modules/sass-loader/dist/cjs.js??ref--0-3!./EcUser.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../storefront-framework/node_modules/mini-css-extract-plugin/dist/loader.js!../../../../storefront-template/node_modules/css-loader/dist/cjs.js!../../../../storefront-framework/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../storefront-template/node_modules/postcss-loader/src/index.js??postcss!../../../../storefront-template/node_modules/sass-loader/dist/cjs.js??ref--0-3!./EcUser.scss?vue&type=style&index=0&lang=scss&\"","/*!\n * @ecomplus/widget-user\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport '@ecomplus/storefront-twbs'\nimport EcUser from './components/EcUser.vue'\n\nexport default (options = {}, elId = 'user-button') => {\n  const $userButton = document.getElementById(elId)\n\n  if ($userButton) {\n    new Vue({\n      render: h => h(EcUser, {\n        attrs: {\n          id: elId\n        },\n        props: {\n          ...options.props\n        }\n      })\n    }).$mount($userButton)\n  }\n}\n","const dictionary = {\n  my_account: {\n    en_us: 'My account',\n    pt_br: 'Minha conta'\n  },\n  my_orders: {\n    en_us: 'My orders',\n    pt_br: 'Meus pedidos'\n  },\n  hello: {\n    en_us: 'Hello',\n    pt_br: 'Olá'\n  },\n  visitor: {\n    en_us: 'visitor',\n    pt_br: 'visitante'\n  },\n  sign_in_with: {\n    en_us: 'Sign in with',\n    pt_br: 'Entrar com'\n  },\n  sign_up_with: {\n    en_us: 'Sign up with',\n    pt_br: 'Cadastrar via'\n  },\n  another: {\n    en_us: 'another',\n    pt_br: 'outro'\n  },\n  email: {\n    en_us: 'email',\n    pt_br: 'e-mail'\n  },\n  logout: {\n    en_us: 'Logout',\n    pt_br: 'Sair'\n  },\n  login: {\n    en_us: 'Login',\n    pt_br: 'Entrar'\n  },\n  continue_on_popup: {\n    en_us: 'Continue login on popup',\n    pt_br: 'Continue o login no pop-up'\n  },\n  login_error: {\n    en_us: 'There was an error trying to login, please try again or select another option',\n    pt_br: 'Houve um erro ao tentar o login, por favor tente novamente ou selecione outra opção'\n  },\n  profile_not_found: {\n    en_us: 'No profile found with email address',\n    pt_br: 'Nenhum perfil encontrado com o endereço de e-mail'\n  },\n  visitor_checkout: {\n    en_us: 'You can also buy as a visitor if you prefer',\n    pt_br: 'Você também pode comprar como visitante se preferir'\n  }\n}\n\nexport default function (word, lang) {\n  if (!lang) {\n    lang = (this && this.lang) || 'en_us'\n  }\n  return (dictionary[word] && dictionary[word][lang]) || ''\n}\n","import { $ecomConfig } from '@ecomplus/utils'\nimport dictionary from './../../lib/dictionary'\nimport ecomPassport from '@ecomplus/passport-client'\n\nexport default {\n  name: 'EcUser',\n\n  props: {\n    lang: {\n      type: String,\n      default: $ecomConfig.get('lang')\n    },\n    ecomPassport: {\n      type: Object,\n      default: () => ecomPassport\n    },\n    popoverPlacement: {\n      type: String,\n      default: 'bottomleft'\n    },\n    getGreetingsMsg: {\n      type: Function\n    },\n    accountUrl: {\n      type: String,\n      default: '/app/#/account/'\n    },\n    ordersUrl: {\n      type: String,\n      default: '/app/#/account/orders'\n    },\n    popupAlertCountSecs: {\n      type: Number,\n      default: 3\n    }\n  },\n\n  data () {\n    return {\n      showPopover: false,\n      popoverTriggers: 'click blur',\n      waiting: false,\n      waitingPopup: false,\n      isLogged: false,\n      email: '',\n      name: '',\n      oauthProviders: [],\n      showLoginForm: false,\n      popupAlertCount: 0,\n      loginErrorAlert: false,\n      noProfileFound: false,\n      popoverHideTimer: null\n    }\n  },\n\n  computed: {\n    greetings () {\n      if (typeof this.getGreetingsMsg === 'function') {\n        return this.getGreetingsMsg(this.name)\n      } else {\n        return `${dictionary('hello', this.lang)} ${this.name || dictionary('visitor', this.lang)}`\n      }\n    }\n  },\n\n  methods: {\n    dictionary,\n\n    update () {\n      this.fixPopoverTriggers()\n      const { checkLogin, getCustomerName } = this.ecomPassport\n      this.name = getCustomerName()\n      this.isLogged = checkLogin()\n      this.email = ''\n      this.popupAlertCount = 0\n      if (this.isLogged) {\n        this.showPopover = true\n        setTimeout(() => {\n          if (this.showPopover) {\n            this.popoverHideTimer = setTimeout(() => {\n              this.showPopover = false\n            }, 2000)\n          }\n        }, 200)\n      }\n      this.waitingPopup = false\n      clearTimeout(this.popoverHideTimer)\n    },\n\n    waitPromise (promise) {\n      this.fixPopoverTriggers()\n      const vm = this\n      vm.waiting = true\n      promise\n        .catch(err => {\n          console.error(err)\n        })\n        .finally(() => {\n          vm.waiting = false\n        })\n    },\n\n    setOauthProviders () {\n      const vm = this\n      const promise = vm.ecomPassport.fetchOauthProviders()\n        .then(({ host, baseUri, oauthPath, providers }) => {\n          const oauthProviders = []\n          for (const provider in providers) {\n            if (providers[provider]) {\n              const { faIcon, providerName } = providers[provider]\n              oauthProviders.push({\n                link: host + baseUri + provider + oauthPath,\n                faIcon,\n                provider,\n                providerName\n              })\n            }\n          }\n          vm.oauthProviders = oauthProviders\n        })\n        .catch(err => {\n          vm.presetOauthProviders()\n          throw err\n        })\n      vm.waitPromise(promise)\n      return promise\n    },\n\n    presetOauthProviders () {\n      this.oauthProviders = [\n        {\n          faIcon: 'fa-facebook-f',\n          providerName: 'Facebook',\n          provider: 'facebook'\n        },\n        {\n          faIcon: 'fa-google',\n          providerName: 'Google',\n          provider: 'google'\n        },\n        {\n          faIcon: 'fa-windows',\n          providerName: 'Windows',\n          provider: 'windowslive'\n        }\n      ]\n    },\n\n    oauthPopup (link, provider) {\n      const vm = this\n      this.loginErrorAlert = false\n      if (link) {\n        vm.ecomPassport.popupOauthLink(link)\n        vm.waitingPopup = true\n        setTimeout(() => {\n          vm.popupAlertCount = vm.popupAlertCountSecs\n        }, 200)\n      } else {\n        const promise = vm.setOauthProviders()\n          .then(() => {\n            const link = vm.oauthProviders\n              .find(oauthProvider => oauthProvider.provider === provider)\n            vm.oauthPopup(link, provider)\n          })\n          .catch(err => {\n            vm.loginErrorAlert = true\n            throw err\n          })\n        vm.waitPromise(promise)\n      }\n    },\n\n    popupAlertChanged (countDown) {\n      this.popupAlertCount = countDown\n    },\n\n    emailLoginSubmit (e) {\n      const vm = this\n      e.preventDefault()\n      vm.showLoginForm = false\n      const promise = vm.ecomPassport.fetchLogin(this.email)\n        .catch(err => {\n          const { response } = err\n          if (response && response.status === 403) {\n            vm.noProfileFound = true\n          } else {\n            setTimeout(() => {\n              vm.loginErrorAlert = true\n            }, 100)\n            throw err\n          }\n        })\n      vm.waitPromise(promise)\n    },\n\n    logout () {\n      this.ecomPassport.logout()\n    },\n\n    resetErrors () {\n      this.noProfileFound = this.loginErrorAlert = false\n    },\n\n    resetPopover () {\n      if (this.showLoginForm) {\n        this.showLoginForm = false\n      } else {\n        this.resetErrors()\n      }\n    },\n\n    fixPopoverTriggers () {\n      if (this.showPopover) {\n        this.popoverTriggers = 'manual'\n        setTimeout(() => {\n          this.popoverTriggers = 'click blur'\n        }, 310)\n      }\n    }\n  },\n\n  mounted () {\n    const vm = this\n    ;['login', 'logout'].forEach(ev => {\n      this.ecomPassport.on(ev, payload => {\n        vm.update()\n        vm.$emit(ev, payload)\n      })\n    })\n    vm.update()\n    vm.setOauthProviders()\n  },\n\n  watch: {\n    noProfileFound (newStatus) {\n      if (newStatus === false) {\n        this.email = ''\n      }\n      this.showLoginForm = !newStatus\n    },\n\n    showLoginForm (newStatus) {\n      this.loginErrorAlert = false\n      if (newStatus) {\n        this.fixPopoverTriggers()\n        setTimeout(() => {\n          if (this.$refs.input) {\n            this.$refs.input.focus()\n          }\n        }, 300)\n      }\n    },\n\n    showPopover () {\n      clearTimeout(this.popoverHideTimer)\n    }\n  }\n}\n"],"sourceRoot":""}