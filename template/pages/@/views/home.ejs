<%
// load home and general info content
const home = _.cms('home')
const info = _.cms('info')

// mount pitbar options object
const pitbar = {
  cols: []
}
if (home.pitbar) {
  // possible pitbar col names and icons
  ;[
    ['shipping', 'shipping-fast'],
    ['installments', 'credit-card'],
    ['exchange', 'exchange-alt'],
    ['promo', 'percent']
  ].forEach(([prop, icon]) => {
    if (home.pitbar[prop]) {
      const { link, text } = info[prop]
      pitbar.cols.push({ link, text, icon })
    }
  })
}
%>

<%- await include('components/banner-slider', { opt: home.slider }) %>
<%- await include('components/pitbar', { opt: pitbar }) %>
<%- await include('components/products-carousel', { opt: { items: _.items } }) %>
