<form
  class="ec-credit-card needs-validation"
  @submit.prevent="submit"
  novalidate
>
  <div class="form-group ec-credit-card__bin">
    <label for="ec-credit-card-bin">
      {{ i18n('CardNumber') }}
    </label>
    <div class="input-group">
      <cleave-input
        type="tel"
        class="form-control"
        :class="!numberPotentiallyValid && alert.bin ? 'is-invalid': null"
        id="ec-credit-card-bin"
        v-model="card.bin"
        @blur="alert.bin = !numberPotentiallyValid"
        :options="{ creditCard: true }"
        required
      />

      <div class="input-group-append" v-if="activeBrand && brands.indexOf(activeBrand) > -1">
        <span class="input-group-text">
          <i
            class="pay-icon"
            :class="`pay-icon--${activeBrand}`"
          ></i>
        </span>
      </div>
    </div>
  </div>

  <div class="form-group ec-credit-card__name">
    <label for="ec-credit-card-name">
      {{ i18n('HolderName') }}
    </label>
    <div class="input-group">
      <input
        type="text"
        pattern="[^\d\s]{2,}.*"
        class="form-control"
        id="ec-credit-card-name"
        :placeholder="i18n('NameOnCard')"
        v-model="card.name"
        required
      />
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-lg-6">
      <label for="ec-credit-card-validate">
        {{ i18n('ValidThru') }}
      </label>
      <cleave-input
        type="tel"
        class="form-control"
        id="ec-credit-card-validate"
        :placeholder="`MM/${(lang === 'pt_br' ? 'AA' : 'YY')}`"
        v-model="card.validate"
        :options="{
          date: true,
          datePattern: ['m', 'y']
        }"
        required
      />
    </div>

    <div class="form-group col-lg-6">
      <label for="ec-credit-card-cvv">
        CVV
        <span
          class="text-muted"
          v-b-popover.hover.top="i18n('AboutCvv')"
          :title="i18n('SecurityCode')"
        >
          <i class="fas fa-question-circle"></i>
        </span>
      </label>

      <cleave-input
        type="tel"
        class="form-control"
        id="ec-credit-card-cvv"
        minlength="3"
        maxlength="4"
        placeholder="123"
        v-model="card.cvv"
        :options="{
          numeral: true,
          numeralPositiveOnly: true,
          numeralThousandsGroupStyle: 'none'
        }"
        required
      />
    </div>
  </div>

  <button class="btn btn-lg btn-block btn-success" type="submit">
    <i class="fas fa-shopping-bag mr-1"></i>
    {{ i18n('ConfirmPurchase') }}
  </button>
</form>
